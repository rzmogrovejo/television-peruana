<!DOCTYPE html>
<html>

<head>
	<title>Canales TV Peruana en vivo</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
	<h1>Canales TV Peruana en vivo</h1>
	<ul id="channel-list"></ul>
	<div id="iframe-tv"></div>
</body>

<script type="text/javascript" src="./script.js"></script>
<script type="text/javascript">
	let html = document.getElementById('channel-list');
	channels.forEach((channel) => {
		html.innerHTML = channel.allowIframe ?
			html.innerHTML +
			"<li><a href='javascript:void(0);' onClick='createIframe(" + '"' + channel.website + '"' + ")'>" +
			"Canal " + channel.code.national + ": " + channel.name + "</a></li>" :
			html.innerHTML +
			"<li><a href='" + channel.website + "' target='_blank'>" +
			"Canal " + channel.code.national + ": " + channel.name + "</a> (Se abre en una nueva ventana)</li>";
	});

	function createIframe(url) {
		var iframe = document.createElement('iframe');
		iframe.width = "100%";
		iframe.height = "700";
		iframe.frameborder = 0;
		iframe.setAttribute('allowFullScreen', '');
		iframe.is = "x-frame-bypass";
		iframe.src = url;
		var iframeTv = document.getElementById("iframe-tv");
		if (iframeTv.firstChild) {
			iframeTv.removeChild(iframeTv.firstChild);
		}
		iframeTv.appendChild(iframe);
	}
</script>

</html>